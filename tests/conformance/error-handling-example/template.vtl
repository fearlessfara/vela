#set($inputRoot = $input.path('$'))
#if($inputRoot.photos && $inputRoot.photos.photo && $inputRoot.photos.photo.size() > 0)
{
  "status": "success",
  "requestId": "$context.requestId",
  "timestamp": "$util.time.nowISO8601()",
  "photos": [
#foreach($elem in $inputRoot.photos.photo)
    {
      "id": "$elem.id",
      "photographedBy": "$elem.photographer_first_name $elem.photographer_last_name",
      "title": "$util.escapeJavaScript($elem.title)",
      "ispublic": $elem.ispublic,
      "isfriend": $elem.isfriend,
      "isfamily": $elem.isfamily,
      "photoUrl": "https://farm$elem.farm.staticflickr.com/$elem.server/$elem.id_$elem.secret.jpg"
    }#if($foreach.hasNext),#end
		
#end
  ],
  "pagination": {
    "currentPage": $inputRoot.photos.page,
    "totalPages": $inputRoot.photos.pages,
    "perPage": $inputRoot.photos.perpage,
    "totalPhotos": $inputRoot.photos.total
  }
}
#else
{
  "status": "error",
  "requestId": "$context.requestId",
  "timestamp": "$util.time.nowISO8601()",
  "error": {
    "code": "INVALID_REQUEST",
    "message": "No photos found in request",
    "details": "The request must contain a photos array with at least one photo"
  }
}
#end
